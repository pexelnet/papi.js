function papi_init(e){papi_apiRoot=e.endsWith("/")?e:e+"/"}function papi_ajax(e,t,a,p){var i;i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),i.onreadystatechange=function(){4==i.readyState&&(json_object=JSON.parse(i.responseText),p(json_object,i.status))},i.setRequestHeader("Access-Key",papi_accessKey),"POST"==e?(i.open(e,papi_apiRoot+t,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(a)):(i.open(e,papi_apiRoot+t,!0),i.send())}function papi_get(e,t){papi_ajax("GET",e,"",t)}function papi_post(e,t,a){var p="";Object.keys(t).forEach(function(e){p+=e+"="+t[e]+"&"}),p=p.slice(0,-1),papi_ajax("POST",e,p,a)}function papi_get_basic(e,t){papi_get(e,function(e){t(e)})}function papi_verify(e,t){papi_accessKey=e,papi_ajax("GET","verify","",function(e,a){t(200==a&&1==e.success?!0:!1)})}function papi_slaves(e){papi_get_basic("slaves",e)}function papi_slave(e,t){papi_get_basic("slave/"+name,t)}var papi_apiRoot="",papi_accessKey="";String.prototype.endsWith=function(e){var t=this.lastIndexOf(e);return-1!=t&&t+e.length==this.length};